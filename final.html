<html>
    <title>OpenSeadragon Overlay Demo</title>
    <script type="text/javascript" src='openseadragon.js'></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.js"></script>
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>

    <style type="text/css">

        .openseadragon1 {
            width: 800px;
            height: 600px;
        }
    </style>
</head>
<body>
<input type="button" value="Rect " id="t1" onclick="rectAnno()">
<input type="button" value="Circle " id="t2" onclick="circleAnno()">
<input type="button" value="Ellipse " id="t3" onclick="ellipseAnno()">
<input type="button" value="Ellipse " id="t3" onclick="ellipseAnno()">
<input type="button" value="Load " id="l1" onclick="loadAnnotation()">
    <div id="contentDiv" class="openseadragon1"></div>
    <script type="text/javascript">
        var viewer1 = OpenSeadragon({
  
            id: "contentDiv",
            prefixUrl: "images/",
            tileSources: "tall.dzi",

        });
viewer1.addHandler('open', function(event){
	var elt = document.createElement("div");
	elt.className = "overlay";
    elt.id = "overlay_T";
	var dimensions = viewer1.source.dimensions;
	viewer1.addOverlay({
		element: elt,
		location: viewer1.viewport.imageToViewportRectangle( new OpenSeadragon.Rect(0, 0, dimensions.x, dimensions.y) )
	});
});

var set,s1,paper;
    viewer1.addHandler('add-overlay', function(event){
	 paper = Raphael(event.element);
 //paper=Raphael("filterDiv", 1100, 1000);
    paper.canvas.setAttribute('id', 'SvgElement');
    paper.canvas.setAttribute('width', 5000);
     paper.canvas.setAttribute('height', 5000);   
    
	set = paper.set();
	//set.push(  paper.circle(196,202.5,200).animate({fill: "#223fa3", "fill-opacity": 0.5},2000));

 
var aa=paper.circle(300,900,600);
aa.node.id = 'c1';
aa.node.setAttribute('onclick',"selected(this.id)");
aa.node.setAttribute('fill',"#223fa3");
aa.node.setAttribute('fill-opacity',0.8);
set.push(aa);
var aa=paper.circle(500,1000,600);
aa.node.id = 'c2';
aa.node.setAttribute('onclick',"selected(this.id)");
aa.node.setAttribute('fill',"#223fa3");
aa.node.setAttribute('fill-opacity',0.8);
set.push(aa);
//var s1=set.push(paper.rect(596,202.5,100,100).animate({fill: "#223fa3", "fill-opacity": 0.5}, 2000));
var a=paper.rect(600,600,200,100);
a.node.id = 'rect1';
//a.node.setAttribute("class","track");
a.node.setAttribute('onclick',"selected(this.id)");
a.node.setAttribute('fill',"#223fa3");
a.node.setAttribute('fill-opacity',0.8);
set.push(a);
var a=paper.rect(800,600,500,600);
a.node.id = 'rect2';
a.node.setAttribute('onclick',"selected(this.id)");
a.node.setAttribute('fill',"#223fa3");
a.node.setAttribute('fill-opacity',0.8);
set.push(a);
var a=paper.ellipse(796,302,500,200);
a.node.id = 'e1';
a.node.setAttribute('onclick',"selected(this.id)");
a.node.setAttribute('fill',"#223fa3");
a.node.setAttribute('fill-opacity',0.8);
set.push(a);

var path = paper.path();
path.node.id = 'polygon1';
path.node.setAttribute('onclick',"selected(this.id)");
path.node.setAttribute('stroke','black');
path.node.setAttribute('stroke-width',3);
path.node.setAttribute('d','M 169 1212 L 1580 982 L 840 2393 L 1234 2045 Z');
path.node.setAttribute('fill-opacity',0.8);
path.node.setAttribute('fill',"#223fa3");
set.push(path);
/*
 var tri = paper.path( ["M", 100, 100, "L", 300, 100 ]).attr("fill", "red");
 tri.node.id = 'l1';
set.push(tri);
*/
var aa=paper.circle(500,1000,100);
aa.node.id = 's1';
aa.node.setAttribute('onclick',"selected(this.id)");
aa.node.setAttribute('fill',"#223fa3");
aa.node.setAttribute('fill-opacity',0.8);
set.push(aa);
var aa=paper.circle(500,1000,100);
aa.node.id = 's2';
aa.node.setAttribute('onclick',"selected(this.id)");
aa.node.setAttribute('fill',"#223fa3");
aa.node.setAttribute('fill-opacity',0.8);
set.push(aa);
var aa=paper.circle(500,1000,100);
aa.node.id = 's3';
aa.node.setAttribute('onclick',"selected(this.id)");
aa.node.setAttribute('fill',"#223fa3");
aa.node.setAttribute('fill-opacity',0.8);
set.push(aa);
var aa=paper.circle(500,1000,100);
aa.node.id = 's4';
aa.node.setAttribute('onclick',"selected(this.id)");
aa.node.setAttribute('fill',"#223fa3");
aa.node.setAttribute('fill-opacity',0.8);
set.push(aa);
transformSet( set )
});

viewer1.addHandler('animation', function(event){
   viewer1.zoomPerClick = 1;  // for  disabled zooming when click( if want to On value will be 2)
	transformSet( set )

});
  var polyCount=4;
var polyDraw=0;
function polygon()
{
  polyDraw++;
}

var rectCount=4;
var rectDraw=0;
function rectAnno()
{
rectDraw++;
}
var circleCount=4;
var circleDraw=0;
function circleAnno()
{
circleDraw++;;
}
var ellipseCount=4;
var ellipseDraw=0;
function ellipseAnno()
{

ellipseDraw++;
}

var z1;
var preZoom;
var ss1;
var ss2;
var properties={};
function getProperties(id)
{

if(id[0]=='r')
{


var width =document.getElementById(id).getAttribute('width');
var height = document.getElementById(id).getAttribute('height');
var x = document.getElementById(id).getAttribute('x');
var y = document.getElementById(id).getAttribute('y');
var eid = document.getElementById(id).getAttribute('id');
var fill=document.getElementById(id).getAttribute('fill');
var opacity=document.getElementById(id).getAttribute('fill-opacity');
var stroke_width=document.getElementById(id).getAttribute('stroke-width');
var stroke_color=document.getElementById(id).getAttribute('stroke');
var transform=document.getElementById(id).getAttribute("transform");

properties= {
  type:"rect",
    x: x,
    y: y,
    width:width,
    height:height,
    id:eid,
    fill:fill,
    opacity:opacity,
    stroke_width:stroke_width,
    stroke_color:stroke_color,
    transform:transform
};


}
if(id[0]=='c')
{
var cx =document.getElementById(id).getAttribute('cx');
var cy = document.getElementById(id).getAttribute('cy');
var r = document.getElementById(id).getAttribute('r');
var eid = document.getElementById(id).getAttribute('id');
var fill=document.getElementById(id).getAttribute('fill');
var opacity=document.getElementById(id).getAttribute('fill-opacity');
var stroke_width=document.getElementById(id).getAttribute('stroke-width');
var stroke_color=document.getElementById(id).getAttribute('stroke');
var transform=document.getElementById(id).getAttribute("transform");
properties={};
properties= {
  type:"circle",
    cx: cx,
    cy: cy,
    r:r,  
    id:eid,
    fill:fill,
    opacity:opacity,
    stroke_width:stroke_width,
    stroke_color:stroke_color,
    transform:transform
};



}
if(id[0]=='e')
{

var cx =document.getElementById(id).getAttribute('cx');
var cy = document.getElementById(id).getAttribute('cy');
var rx = document.getElementById(id).getAttribute('rx');
var ry = document.getElementById(id).getAttribute('ry');
var eid = document.getElementById(id).getAttribute('id');
var fill=document.getElementById(id).getAttribute('fill');
var opacity=document.getElementById(id).getAttribute('fill-opacity');
var stroke_width=document.getElementById(id).getAttribute('stroke-width');
var stroke_color=document.getElementById(id).getAttribute('stroke');
var transform=document.getElementById(id).getAttribute("transform");

properties= {
  type:"ellipse",
    cx: cx,
    cy: cy,
    rx:rx,
    ry:ry,
    id:eid,
    fill:fill,
    opacity:opacity,
    stroke_width:stroke_width,
    stroke_color:stroke_color,
    transform:transform
};
}

}

function transformSet( el ){
var zoom =z1= viewer1.viewport.viewportToImageZoom( viewer1.viewport.getZoom(true));
el.transform( 'S'+zoom+','+zoom+',0,0' );
}

var clickFlag=true;
var handle="";
var x1,y1,w1,h1,r1,rx,ry;
var reSizeflag;

function selected(id)
{  
  
handleActive=true;

if(id[0]!='s')
{
idd=id; 
getProperties(idd);
} 
else
{
handle=id;

if(idd[0]=='r')
{
  var rect = document.getElementById(idd);
w1= parseFloat(rect.getAttributeNS(null, 'width'));
h1 = parseFloat(rect.getAttributeNS(null, 'height'));
x1 = parseFloat(rect.getAttributeNS(null, 'x'));
y1 = parseFloat(rect.getAttributeNS(null, 'y'));
}
if(idd[0]=='c')
{
var circle = document.getElementById(idd);
r1 = parseFloat(circle.getAttributeNS(null, 'r'));
x1 = parseFloat(circle.getAttributeNS(null, 'cx'));
y1 = parseFloat(circle.getAttributeNS(null, 'cy'));
}
if(idd[0]=='e')
{
var ellipse = document.getElementById(idd);

x1 = parseFloat(ellipse.getAttributeNS(null, 'cx'));
y1 = parseFloat(ellipse.getAttributeNS(null, 'cy'));
rx1 = parseFloat(ellipse.getAttributeNS(null, 'rx'));
ry1 = parseFloat(ellipse.getAttributeNS(null, 'ry'));

}
}

if(clickFlag==true)
{
//  for Resize
if(idd[0]=='c')
{
  var circle = document.getElementById(idd);
var x = parseFloat(circle.getAttributeNS(null, 'cx'));
var y = parseFloat(circle.getAttributeNS(null, 'cy'));
var r = parseFloat(circle.getAttributeNS(null, 'r'));
document.getElementById("s1").setAttribute('cy',y);
document.getElementById("s1").setAttribute('cx',x-r);
document.getElementById("s2").setAttribute('cy',y-r);
document.getElementById("s2").setAttribute('cx',x);
document.getElementById("s3").setAttribute('cy',y+r);
document.getElementById("s3").setAttribute('cx',x);
document.getElementById("s4").setAttribute('cy',y);
document.getElementById("s4").setAttribute('cx',x+r);
}
if(idd[0]=='r')
{
var rect = document.getElementById(idd);
var x = parseFloat(rect.getAttributeNS(null, 'x'));
var y = parseFloat(rect.getAttributeNS(null, 'y'));
var w = parseFloat(rect.getAttributeNS(null, 'width'));
var h = parseFloat(rect.getAttributeNS(null, 'height'));
document.getElementById("s1").setAttribute('cy',y);
document.getElementById("s1").setAttribute('cx',x);
document.getElementById("s2").setAttribute('cy',y);
document.getElementById("s2").setAttribute('cx',x+w);
document.getElementById("s3").setAttribute('cy',y+h);
document.getElementById("s3").setAttribute('cx',x);
document.getElementById("s4").setAttribute('cy',y+h);
document.getElementById("s4").setAttribute('cx',x+w);
}
if(idd[0]=='e')
{
var ellipse = document.getElementById(idd);
var x = parseFloat(ellipse.getAttributeNS(null, 'cx'));
var y = parseFloat(ellipse.getAttributeNS(null, 'cy'));
var rx = parseFloat(ellipse.getAttributeNS(null, 'rx'));
var ry = parseFloat(ellipse.getAttributeNS(null, 'ry'));

document.getElementById("s1").setAttribute('cy',y);
document.getElementById("s1").setAttribute('cx',x-rx);
document.getElementById("s2").setAttribute('cy',y);
document.getElementById("s2").setAttribute('cx',x+rx);
document.getElementById("s3").setAttribute('cy',y+ry);
document.getElementById("s3").setAttribute('cx',x);
document.getElementById("s4").setAttribute('cy',y-ry);
document.getElementById("s4").setAttribute('cx',x);
}
if(idd[0]=='p' && idd[4]=='g')
{
  console.log("hi,,,,,"+idd);
  
var polygon = document.getElementById(idd);
var x =document.getElementById(idd).getAttribute('d');
var s=x.split(" ")
console.log(x);
for(i=1;i<(s.length-2);){

if(s[i]=='L' || s[i]=='Z')
console.log("mm");
else{

var aa=paper.circle(s[i],s[i+1],100);
aa.node.id = 'PG_C'+i;
aa.node.setAttribute('onclick',"selected(this.id)");
aa.node.setAttribute('fill',"#223fa3");
aa.node.setAttribute('fill-opacity',0.8);
set.push(aa);


console.log(s[i]+" - ");
}
i=i+3;
}
//console.log(s.length);

/*
document.getElementById("s1").setAttribute('cy',y);
document.getElementById("s1").setAttribute('cx',x-rx);
document.getElementById("s2").setAttribute('cy',y);
document.getElementById("s2").setAttribute('cx',x+rx);
document.getElementById("s3").setAttribute('cy',y+ry);
document.getElementById("s3").setAttribute('cx',x);
document.getElementById("s4").setAttribute('cy',y-ry);
document.getElementById("s4").setAttribute('cx',x);
*/
}
clickFlag=false;
}
else
{

clickFlag=true;
if(handle!="")
{
//handle="";
clickFlag=false;
}
}
}

var idd="";

//contentDiv
//annotation
var currentImagePoint;
var handleActive=false;
$("#annotation").mousemove(function (e) {   
        
        var tracker = new OpenSeadragon.MouseTracker({
            element: viewer1.container,
            moveHandler: function(event) {
                var webPoint = event.position;
                var viewportPoint = viewer1.viewport.pointFromPixel(webPoint);
                var imagePoint =currentImagePoint= viewer1.viewport.viewportToImageCoordinates(viewportPoint);
                var zoom = viewer1.viewport.getZoom(true);
                var imageZoom = viewer1.viewport.viewportToImageZoom(zoom);
                
              
               if(idd!="" && clickFlag==true){              
                    if(idd[0]=='c'){
                      document.getElementById(idd).setAttribute('cy',imagePoint.y);
                      document.getElementById(idd).setAttribute('cx',imagePoint.x);
                       var circle = document.getElementById(idd);
                       var r = parseFloat(circle.getAttributeNS(null, 'r'));
                      
                      document.getElementById("s1").setAttribute('cy',imagePoint.y-r);
                      document.getElementById("s1").setAttribute('cx',imagePoint.x);
                      document.getElementById("s2").setAttribute('cy',imagePoint.y);
                      document.getElementById("s2").setAttribute('cx',imagePoint.x+r);
                      document.getElementById("s3").setAttribute('cy',imagePoint.y+r);
                      document.getElementById("s3").setAttribute('cx',imagePoint.x);
                      document.getElementById("s4").setAttribute('cy',imagePoint.y);
                      document.getElementById("s4").setAttribute('cx',imagePoint.x-r);
                   
                            }
                   if(idd[0]=='e'){
                      document.getElementById(idd).setAttribute('cy',imagePoint.y);
                      document.getElementById(idd).setAttribute('cx',imagePoint.x);
                      var ellipse = document.getElementById(idd);           
                      var rx = parseFloat(ellipse.getAttributeNS(null, 'rx'));
                      var ry = parseFloat(ellipse.getAttributeNS(null, 'ry'));
                    
                      document.getElementById("s1").setAttribute('cy',imagePoint.y);
                      document.getElementById("s1").setAttribute('cx',imagePoint.x-rx);
                      document.getElementById("s2").setAttribute('cy',imagePoint.y);
                      document.getElementById("s2").setAttribute('cx',imagePoint.x+rx);
                      document.getElementById("s3").setAttribute('cy',imagePoint.y+ry);
                      document.getElementById("s3").setAttribute('cx',imagePoint.x);
                      document.getElementById("s4").setAttribute('cy',imagePoint.y-ry);
                      document.getElementById("s4").setAttribute('cx',imagePoint.x);
                   
                            }
                  if(idd[0]=='r'){
                      document.getElementById(idd).setAttribute('y',imagePoint.y);
                      document.getElementById(idd).setAttribute('x',imagePoint.x);
                      var rect = document.getElementById(idd);
                      var w = parseFloat(rect.getAttributeNS(null, 'width'));
                      var h = parseFloat(rect.getAttributeNS(null, 'height'));
                      
                      document.getElementById("s1").setAttribute('cy',imagePoint.y);
                      document.getElementById("s1").setAttribute('cx',imagePoint.x);
                      document.getElementById("s2").setAttribute('cy',imagePoint.y);
                      document.getElementById("s2").setAttribute('cx',imagePoint.x+w);
                      document.getElementById("s3").setAttribute('cy',imagePoint.y+h);
                      document.getElementById("s3").setAttribute('cx',imagePoint.x);
                      document.getElementById("s4").setAttribute('cy',imagePoint.y+h);
                      document.getElementById("s4").setAttribute('cx',imagePoint.x+w);
                  
                            }                  
                  }
              else
              {
                if(handle[0]=="s" && reSizeflag==true)      
                {                       
                      resize(imagePoint.x,imagePoint.y)
                    }
                    else{
                      //if()
                     

                    }
                  }
            


            if(circleDraw==2)
            {
               var circle = document.getElementById(drawingAnnoId);
                       var cx = parseFloat(circle.getAttributeNS(null, 'cx'));
                       var cy = parseFloat(circle.getAttributeNS(null, 'cy'));
                       var difx=imagePoint.x-cx; 
                       difx=Math.abs(difx);
                       document.getElementById(drawingAnnoId).setAttribute('r',difx);
                        
            }
            if(rectDraw==2)
            {
               var rect = document.getElementById(drawingAnnoId);
                       var x = parseFloat(rect.getAttributeNS(null, 'x'));
                       var y = parseFloat(rect.getAttributeNS(null, 'y'));
                       var w=imagePoint.x-x;
                       var h=imagePoint.y-y; 
                      document.getElementById(drawingAnnoId).setAttribute('width',w);
                      document.getElementById(drawingAnnoId).setAttribute('height',h);
                        
            }
            if(ellipseDraw==2)
            {
             
               var ellipse = document.getElementById(drawingAnnoId);
                       var x = parseFloat(ellipse.getAttributeNS(null, 'cx'));
                       var y = parseFloat(ellipse.getAttributeNS(null, 'cy'));
                     
                       var rx=imagePoint.x-x;
                      var ry=imagePoint.y-y; 
                       rx=Math.abs(rx);
                       ry=Math.abs(ry);

                      document.getElementById(drawingAnnoId).setAttribute('rx',rx);
                      document.getElementById(drawingAnnoId).setAttribute('ry',ry);
                        
            }
             if(handleActive==false)
            {
             
              
                        
            }

          }


         
        });  

        tracker.setTracking(true);  
});

var drawingAnnoId;
$( "#annotation" ).click(function() {

if(handleActive==true)
{
  handleActive=false;

}
else
{
  document.getElementById("s1").setAttribute('cy',0);
document.getElementById("s1").setAttribute('cx',0);
document.getElementById("s2").setAttribute('cy',0);
document.getElementById("s2").setAttribute('cx',0);
document.getElementById("s3").setAttribute('cy',0);
document.getElementById("s3").setAttribute('cx',0);
document.getElementById("s4").setAttribute('cy',0);
document.getElementById("s4").setAttribute('cx',0);
  handleActive=false;
}
if(reSizeflag==false){
reSizeflag=true;

}
 else
 {
 reSizeflag=false;
handle="";

}

if(circleDraw==1)
{
var aa=paper.circle(currentImagePoint.x,currentImagePoint.y,500);
aa.node.id = drawingAnnoId='c'+circleCount;
aa.node.setAttribute('onclick',"selected(this.id)");
aa.node.setAttribute('fill',"#223fa3");
aa.node.setAttribute('fill-opacity',0.8);
set.push(aa);
circleCount++;
circleDraw++;
}
else
{
  circleDraw=0;
 
}
if(rectDraw==1)
{
  
var a=paper.rect(currentImagePoint.x,currentImagePoint.y,500,500);
a.node.id = drawingAnnoId='rect'+rectCount;

a.node.setAttribute('onclick',"selected(this.id)");
a.node.setAttribute('fill',"#223fa3");
a.node.setAttribute('fill-opacity',0.8);
set.push(a);
rectCount++;
rectDraw++;
}
else
{
  rectDraw=0;
  //drawingAnnoId=0;
}
if(ellipseDraw==1)
{
var a=paper.ellipse(currentImagePoint.x,currentImagePoint.y,100,100);
a.node.id = drawingAnnoId='e'+ellipseCount;
a.node.setAttribute('onclick',"selected(this.id)");
a.node.setAttribute('fill',"#223fa3");
a.node.setAttribute('fill-opacity',0.8);
set.push(a);
ellipseDraw++;
ellipseCount++;
}
else
{
  ellipseDraw=0;
}
});

function resize(x,y)
{
            if(handle[0]=='s'){  
                          
                      if(idd[0]=='r')
                      {                    
                       
                      var difx=x1-x;
                      var dify=y1-y;  
                       difx=Math.abs(difx);
                        dify=Math.abs(dify);                                     
                      document.getElementById(idd).setAttribute('y',y);
                      document.getElementById(idd).setAttribute('x',x);
                      document.getElementById(idd).setAttribute('width',w1+(difx));
                      document.getElementById(idd).setAttribute('height',h1+(dify));
                      document.getElementById("s1").setAttribute('cy',y);
                      document.getElementById("s1").setAttribute('cx',x);
                      document.getElementById("s2").setAttribute('cy',y);
                      document.getElementById("s2").setAttribute('cx',x+(w1+(difx)));
                      document.getElementById("s3").setAttribute('cy',y+(h1+(dify)));
                      document.getElementById("s3").setAttribute('cx',x);
                      
                            }
                        if(idd[0]=='c')
                      {                                  
                      var difx=x1-x;    
                       difx=Math.abs(difx);                                 
                      document.getElementById(idd).setAttribute('y',y1);
                      document.getElementById(idd).setAttribute('x',x1);
                      document.getElementById(idd).setAttribute('r',difx);
                      document.getElementById("s1").setAttribute('cy',y1);
                      document.getElementById("s1").setAttribute('cx',x);
                      document.getElementById("s2").setAttribute('cy',y1);
                      document.getElementById("s2").setAttribute('cx',x-difx-difx);
                      document.getElementById("s3").setAttribute('cy',y1+difx);
                      document.getElementById("s3").setAttribute('cx',x1);
                      document.getElementById("s4").setAttribute('cy',y1-difx);
                      document.getElementById("s4").setAttribute('cx',x1);
                      
                            }   
                             if(idd[0]=='e')
                      {                                  
                      var difx=x1-x;
                      var dify=y1-y;   
                       difx=Math.abs(difx);
                        dify=Math.abs(dify);            
                      document.getElementById(idd).setAttribute('ry',dify);
                      document.getElementById(idd).setAttribute('rx',difx);    
                      document.getElementById("s1").setAttribute('cy',y1);//left
                      document.getElementById("s1").setAttribute('cx',x1-difx);
                      document.getElementById("s2").setAttribute('cy',y1-dify);// top
                      document.getElementById("s2").setAttribute('cx',x1);
                      document.getElementById("s3").setAttribute('cy',y1);
                      document.getElementById("s3").setAttribute('cx',x1+difx);
                      document.getElementById("s4").setAttribute('cy',y1+dify);
                      document.getElementById("s4").setAttribute('cx',x1);
                           }    
                          }    
}

function loadAnnotation()
{
  console.log(properties.type);
  
  if(properties.type=="ellipse"){
  var aa=paper.ellipse(properties.cx,properties.cy,properties.rx,properties.ry);
aa.node.id = 'e11';
aa.node.setAttribute('onclick',"selected(this.id)");
aa.node.setAttribute('fill',properties.fill);
aa.node.setAttribute('fill-opacity',properties.opacity);
aa.node.setAttribute('transform',properties.transform);
set.push(aa);
}
if(properties.type=="circle"){
  var aa=paper.circle(properties.cx,properties.cy,properties.r);
aa.node.id = 'c11';
aa.node.setAttribute('onclick',"selected(this.id)");
aa.node.setAttribute('fill',properties.fill);
aa.node.setAttribute('fill-opacity',properties.opacity);
aa.node.setAttribute('transform',properties.transform);
set.push(aa);
}
if(properties.type=="rect"){
  var aa=paper.rect(properties.x,properties.y,properties.width,properties.height);
aa.node.id = 'r11';
aa.node.setAttribute('onclick',"selected(this.id)");
aa.node.setAttribute('fill',properties.fill);
aa.node.setAttribute('fill-opacity',properties.opacity);
aa.node.setAttribute('transform',properties.transform);
set.push(aa);
}
}




    </script>
</body>
</html>
